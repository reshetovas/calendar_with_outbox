# Cron Controller

Контроллер для управления периодическими задачами (cron jobs).

## Использование

### Конфигурация в .env файле

#### Вариант 1: По интервалу (каждую минуту)
```env
cron.daysToDelete=365
cron.interval=@every 1m
```

#### Вариант 2: По расписанию (каждый день в 16:00)
```env
cron.daysToDelete=365
cron.schedule=0 16 * * *
```

### Примеры расписаний (cron format)

- `0 16 * * *` - каждый день в 16:00
- `0 0 * * *` - каждый день в полночь
- `0 */2 * * *` - каждые 2 часа
- `*/30 * * * *` - каждые 30 минут
- `0 0 * * 0` - каждое воскресенье в полночь

### Примеры интервалов (@every)

- `@every 1m` - каждую минуту
- `@every 5m` - каждые 5 минут
- `@every 1h` - каждый час
- `@every 24h` - каждые 24 часа
- `@every 1d` - каждый день

### Приоритет конфигурации

1. Если указан `cron.schedule` - используется cron расписание
2. Если указан `cron.interval` - используется интервал
3. Если ничего не указано - используется интервал по умолчанию `@every 1m`

## Структура

- `controller.go` - основной контроллер для управления cron задачами
- `jobs.go` - реализация задачи удаления устаревших событий
- `scheduler.go` - планировщик задач на базе `github.com/robfig/cron/v3`
